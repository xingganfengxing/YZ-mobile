<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="Description" content="" />
		<meta name="Keywords" content="" />
		<meta http-equiv="Pragma" content="no-cache" />
		<!--清理缓存-->
		<meta http-equiv="Cache-Control" content="no-cache">
		<!--清理缓存-->
		<meta http-equiv="Expires" content="0">
		<!--清理缓存-->
		<meta name="format-detection" content="telephone=no" />
		<!--忽略将页面中的数字识别为电话号码-->
		<meta name="format-detection" content="email=no" />
		<!--忽略Android平台中对邮箱地址的识别-->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<!--当网站添加到主屏幕快速启动方式，可隐藏地址栏，仅针对ios的safari-->
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<!--将网站添加到主屏幕快速启动方式，仅针对ios的safari顶端状态条的样式-->
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/sm.min.css" />
		<link rel="stylesheet" type="text/css" href="css/sm-extend.min.css" />
		<link rel="stylesheet" type="text/css" href="css/myCustom.css" />
		<link href="images/" rel="SHORTCUT ICON" />
		<!--小图标-->
		<script src="js/zepto_1.1.3.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/sm.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/sm-extend.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="js/fx.js"></script>
		<title>易猪家居装修风水服务平台</title>
	</head>
	<body>
		<div class="page" id="master">
				<!--标题栏-->
				<header class="bar bar-nav">
					<h1 class="title bgOrange">大师团</h1>
				</header>
				<!-- 工具栏 -->
				<nav class="bar bar-tab">
					<a class="tab-item external" href="index.html">
						<span class="icon icon-home"></span>
						<span class="tab-label">首页</span>
					</a>
					<a class="tab-item external active" href="master.html">
						<span class="icon icon-friends"></span>
						<span class="tab-label">大师团</span>
					</a>
					<a class="tab-item external" href="video.html">
						<span class="icon icon-caret" style="transform: rotate(-90deg);-webkit-transform: rotate(-90deg);"></span>
						<span class="tab-label">视频</span>
					</a>
					<a class="tab-item external" href="myCenter.html">
						<span class="icon icon-me"></span>
						<span class="tab-label">我的</span>
					</a>
				</nav>				
				<!--内容区-->
				<div class="content">				
					<div class="card">
						<div class="card-header">
							<a href="#">
								<img src="img/vip.png" class="person-icon" />
								<span class="ml10">风水师</span>
							</a>
							<span class="orange pull-right">＋关注</span>
						</div>					
						<div class="card-content">
							<div class="card-content-inner">
								简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介
							</div>
							<div class="list-block media-list">
								<ul>
									<li>
										<a href="#" class="item-content bgGrev" style="margin-bottom: .25rem;">
											<div class='item-media'>
											<img src='img/ls1.png' style='width: 4rem;'></div>
											<div class='item-inner'>
												<div class="item-subtitle">案例标题</div>
												<div class='item-text'>内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="item-content bgGrev" style="margin-bottom: .25rem;">
											<div class='item-media'>
											<img src='img/ls1.png' style='width: 4rem;'></div>
											<div class='item-inner'>
												<div class="item-subtitle">案例标题</div>
												<div class='item-text'>内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</div>
											</div>
										</a>
									</li>
							   	</ul>
							</div>		
						</div>
					</div>				
					<div class="card">
						<div class="card-header">
							<a href="#">
								<img src="img/vip.png" class="person-icon" />
								<span class="ml10">风水师</span>
							</a>
							<span class="orange pull-right">＋关注</span>
						</div>					
						<div class="card-content">
							<div class="card-content-inner">
								简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介简介
							</div>
							<div class="list-block media-list">
								<ul>
									<li>
										<a href="#" class="item-content bgGrev" style="margin-bottom: .25rem;">
											<div class='item-media'>
											<img src='img/ls1.png' style='width: 4rem;'></div>
											<div class='item-inner'>
												<div class="item-subtitle">案例标题</div>
												<div class='item-text'>内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</div>
											</div>
										</a>
									</li>
									<li>
										<a href="#" class="item-content bgGrev" style="margin-bottom: .25rem;">
											<div class='item-media'>
											<img src='img/ls1.png' style='width: 4rem;'></div>
											<div class='item-inner'>
												<div class="item-subtitle">案例标题</div>
												<div class='item-text'>内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</div>
											</div>
										</a>
									</li>
							   	</ul>
							</div>		
						</div>
					</div>
					<div class="infinite-scroll infinite-scroll-bottom" data-distance="100">
						<div class="list-block media-list" style="margin: 0;">
							<ul class="list-container">
							</ul>
						</div>
						<!-- 加载提示符 -->
						<div class="infinite-scroll-preloader">
								<div class="preloader"></div>
						</div>
					</div>
				</div>
		</div>
		<script>
			$(function(){
				$(document).on("pageInit", "#master", function(e, id, page) {
						console.log(page);
					var loading = false;
					// 每次加载添加多少条目
					var itemsPerLoad = 20;
					// 最多可加载的条目
					var maxItems = 100;
					function addItems(number, lastIndex) {
						// 生成新条目的HTML
						var html = '';
						for(var i = lastIndex + 1; i <= lastIndex + number; i++) {
							html += "<li>";
							html += "<a href='#' class='item-content'>";
							html += "<div class='item-media'><img src='http://gqianniu.alicdn.com/bao/uploaded/i4//tfscom/i3/TB10LfcHFXXXXXKXpXXXXXXXXXX_!!0-item_pic.jpg_250x250q60.jpg' style='width: 4rem;'></div>";
							html += "<div class='item-inner'>";
							html += "<div class='item-text'>内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</div>";
							html += "</div>";
							html += "</a>";
							html += "</li>";
						}
						// 添加新条目
						$('.infinite-scroll .list-container').append(html);
					}
					addItems(20, 0);
					var lastIndex = $('.list-container li').length;

					$(page).on('infinite', function() {
						// 如果正在加载，则退出
						if(loading) return;
						// 设置flag
						loading = true;
						// 模拟1s的加载过程
						setTimeout(function() {
							// 重置加载flag
							loading = false;
							if(lastIndex >= maxItems) {
								// 加载完毕，则注销无限加载事件，以防不必要的加载
								$.detachInfiniteScroll($('.infinite-scroll'));
								// 删除加载提示符
								$('.infinite-scroll-preloader').remove();
								return;
							}
							addItems(itemsPerLoad, lastIndex);
							// 更新最后加载的序号
							lastIndex = $('.list-container li').length;
							$.refreshScroller();
						}, 1000);
					});
					
				});
				$.init();
			});
		</script>
		
	</body>
</html>
